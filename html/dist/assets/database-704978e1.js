import{p as e,r as a,c as l,a1 as s,z as o,A as t,F as u,H as n,$ as d,Y as c,E as r,I as i,C as v,u as m,J as h}from"./chunk-BGPNDDXN-18fd0b11.js";import{b as p}from"./app-cd5c52f9.js";import{u as f,a as _,V as y,_ as V}from"./useNotyf-2f52a383.js";import{_ as b}from"./VButton.vue_vue_type_style_index_0_lang-04276c31.js";import{_ as D,b as g}from"./route-block-26ba3c5b.js";import"./@vueuse_head-b43a635b.js";const x={class:"account-box is-form is-footerless"},j={class:"form-head-inner"},k=u("div",{class:"left"},[u("h3",null,"Database Config"),u("p",null,"Edit database parameters")],-1),w={class:"right"},U={class:"buttons"},P={key:0,class:"form-body"},C={class:"fieldset"},E=u("div",{class:"fieldset-heading"},[u("h4",null,"Database Parameters")],-1),K={class:"columns is-multiline"},N={class:"column is-8"},S={class:"column is-4"},B={class:"column is-12"},H={class:"column is-6"},O={class:"column is-6"},T=D.decode,z=D.encode,A=e({__name:"database",setup(e){const{y:D}=p(),g=f(),A=a(!1),F=l((()=>D.value>30)),G=a(!1),I=a([]),J=a({}),X=async()=>{A.value=!0;const e=z(J.value);fetch("/data/save.php",{method:"POST",body:e}).then((e=>("OK"===e.statusText?g.success("Saved"):g.success("Error"),e.text()))).catch((e=>g.success("Error"))),A.value=!1,Y()};s((async()=>{Y()}));const Y=async()=>{await fetch("/data/setup.ini").then((e=>e.text())).then((e=>{I.value.push(...e.split("\n")),J.value=T(I.value.join("\n")),G.value=!0})).catch((e=>console.log(e)))};return(e,a)=>(o(),t("div",x,[u("div",{class:v(["form-head stuck-header",[m(F)&&"is-stuck"]])},[u("div",j,[k,u("div",w,[u("div",U,[n(b,{color:"primary",raised:"",loading:A.value,tabindex:"0",onKeydown:d(c(X,["prevent"]),["space"]),onClick:X},{default:r((()=>[i(" Save Changes ")])),_:1},8,["loading","onKeydown"])])])])],2),!0===G.value?(o(),t("div",P,[u("div",C,[E,u("div",K,[u("div",N,[n(_,null,{default:r((()=>[n(y,{icon:"feather:chevron-right"},{default:r((()=>[n(V,{modelValue:J.value.onDevice.remote_host,"onUpdate:modelValue":a[0]||(a[0]=e=>J.value.onDevice.remote_host=e),type:"text",placeholder:"Host"},null,8,["modelValue"])])),_:1})])),_:1})]),u("div",S,[n(_,null,{default:r((()=>[n(y,{icon:"feather:chevron-right"},{default:r((()=>[n(V,{modelValue:J.value.onDevice.remote_port,"onUpdate:modelValue":a[1]||(a[1]=e=>J.value.onDevice.remote_port=e),type:"text",placeholder:"Port"},null,8,["modelValue"])])),_:1})])),_:1})]),u("div",B,[n(_,null,{default:r((()=>[n(y,{icon:"feather:chevron-right"},{default:r((()=>[n(V,{modelValue:J.value.onDevice.remote_database,"onUpdate:modelValue":a[2]||(a[2]=e=>J.value.onDevice.remote_database=e),type:"text",placeholder:"Database"},null,8,["modelValue"])])),_:1})])),_:1})]),u("div",H,[n(_,null,{default:r((()=>[n(y,{icon:"feather:chevron-right"},{default:r((()=>[n(V,{modelValue:J.value.onDevice.remote_user,"onUpdate:modelValue":a[3]||(a[3]=e=>J.value.onDevice.remote_user=e),type:"text",placeholder:"Username"},null,8,["modelValue"])])),_:1})])),_:1})]),u("div",O,[n(_,null,{default:r((()=>[n(y,{icon:"feather:chevron-right"},{default:r((()=>[n(V,{modelValue:J.value.onDevice.remote_password,"onUpdate:modelValue":a[4]||(a[4]=e=>J.value.onDevice.remote_password=e),type:"text",placeholder:"Password"},null,8,["modelValue"])])),_:1})])),_:1})])])])])):h("",!0)]))}});"function"==typeof g&&g(A);export{A as default};
